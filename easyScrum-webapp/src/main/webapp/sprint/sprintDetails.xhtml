<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE composition PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:fragment xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:p="http://primefaces.org/ui">
    
    <p:panelGrid>
        <p:row>
            <p:column>#{bundle.team}:</p:column>
            <p:column colspan="4">#{overview.team.name}</p:column>
        </p:row>
        <p:row>
            <p:column>#{bundle.sprint}:</p:column>
            <p:column colspan="4">#{overview.sprint.name}</p:column>
        </p:row>
        <p:row>
            <p:column>#{bundle.sprint_start}:</p:column>
            <p:column colspan="4">
                <h:outputText value="#{overview.sprint.start}">
                    <f:convertDateTime pattern="#{bundle.date_format}" />
                </h:outputText>
            </p:column>
        </p:row>
        <p:row>
            <p:column>#{bundle.sprint_end}:</p:column>
            <p:column colspan="4">
                <h:outputText value="#{overview.sprint.end}">
                    <f:convertDateTime pattern="#{bundle.date_format}" />
                </h:outputText>
            </p:column>
        </p:row>
        
        <p:row>
            <p:column>#{bundle.sprint_workdays_in_sprint}:</p:column>
            <p:column colspan="4">
                <h:outputText value="#{overview.burnDown.workDays}" />
            </p:column>
        </p:row>
        
        <p:row>
            <p:column>#{bundle.sprint_days_remaining}:</p:column>
            <p:column colspan="4">
                <h:outputText value="#{overview.sprint.daysRemaining}" />
            </p:column>
        </p:row>
        
        
        
        <p:row>  
            <p:column colspan="5" styleClass="ui-widget-header">  
                <p:spacer height="0"/>  
            </p:column>  
        </p:row>

        <p:row>
            <p:column>#{bundle.hours_planned}:</p:column>
            <p:column styleClass="easy-number-column">#{overview.burnDown.plannedHours} #{bundle.hours_short}</p:column>
            <p:column>#{bundle.hours_done}:</p:column>
            <p:column styleClass="easy-number-column">#{overview.burnDown.hoursDone} #{bundle.hours_short}</p:column>
            <p:column styleClass="easy-number-column">
                <h:outputText value="#{overview.burnDown.hoursDone / overview.burnDown.plannedHours}">
                    <f:convertNumber type="percent" maxFractionDigits="2" minFractionDigits="2" />
                </h:outputText>
            </p:column>
        </p:row>
        <p:row>
            <p:column>#{bundle.hours_remaining}:</p:column>
            <p:column styleClass="easy-number-column">#{overview.burnDown.hoursRemaining} #{bundle.hours_short}</p:column>
            <p:column>#{bundle.hours_added}:</p:column>
            <p:column styleClass="easy-number-column">#{overview.burnDown.hoursAdded} #{bundle.hours_short}</p:column>
            <p:column style="text-align: right;">
                <h:outputText value="#{overview.burnDown.hoursRemaining > 0 ? overview.burnDown.hoursAdded / overview.burnDown.hoursRemaining : 0}">
                    <f:convertNumber type="percent" maxFractionDigits="2" minFractionDigits="2" />
                </h:outputText>
            </p:column>
        </p:row>
        <p:row>
            <p:column colspan="2" styleClass="easy-number-column">
                <h:outputText value="#{overview.burnDown.hoursRemaining > 0 ?overview.burnDown.hoursRemaining / overview.burnDown.plannedHours : 0}">
                    <f:convertNumber type="percent" maxFractionDigits="2" minFractionDigits="2" />
                </h:outputText>
            </p:column>
            <p:column colspan="2" styleClass="easy-number-column">
                <h:outputText value="#{overview.burnDown.hoursDone > 0 ? overview.burnDown.hoursAdded / overview.burnDown.hoursDone : 0}">
                    <f:convertNumber type="percent" maxFractionDigits="2" minFractionDigits="2" />
                </h:outputText>
            </p:column>
            <p:column styleClass="easy-number-column">
                <h:outputText value="#{overview.burnDown.hoursAdded / overview.burnDown.plannedHours}">
                    <f:convertNumber type="percent" maxFractionDigits="2" minFractionDigits="2" />
                </h:outputText>
            </p:column>
        </p:row>
        
        <p:row>  
            <p:column colspan="5" styleClass="ui-widget-header">  
                <p:spacer height="0"/>  
            </p:column>  
        </p:row>
        
        <p:row>
            <p:column>#{bundle.sprint_planned_burndown}:</p:column>
            <p:column colspan="4">
                <h:outputText value="#{overview.avgPlannedBurndown}">
                    <f:convertNumber maxFractionDigits="2" minFractionDigits="2" />
                </h:outputText>
            </p:column>
        </p:row>
        <p:row>
            <p:column>#{bundle.sprint_needed_burndown}:</p:column>
            <p:column colspan="4">
                <h:outputText value="#{overview.neededBurndown}">
                    <f:convertNumber maxFractionDigits="2" minFractionDigits="2" />
                </h:outputText>
            </p:column>
        </p:row>
        <p:row>
            <p:column>#{bundle.sprint_avg_burndown}:</p:column>
            <p:column colspan="4">
                <h:outputText value="#{overview.avgBurndown}">
                    <f:convertNumber maxFractionDigits="2" minFractionDigits="2" />
                </h:outputText>
            </p:column>
        </p:row>
        
        <p:row>  
            <p:column colspan="5" styleClass="ui-widget-header">  
                <p:spacer height="0"/>  
            </p:column>  
        </p:row>
        
        <p:row>
            <p:column>#{bundle.sprint_story_points}:</p:column>
            <p:column colspan="4">#{overview.sprint.storyPoints}</p:column>
        </p:row>
        <p:row>
            <p:column>#{bundle.sprint_planned_hours_by_story_point}:</p:column>
            <p:column colspan="4">
                <h:outputText value="#{overview.plannedHoursByStoryPoint}">
                    <f:convertNumber maxFractionDigits="2" minFractionDigits="2" />
                </h:outputText>
            </p:column>
        </p:row>
        <p:row>
            <p:column>#{bundle.sprint_done_hours_by_story_point}:</p:column>
            <p:column colspan="4">
                <h:outputText value="#{overview.doneHoursByStoryPoint}">
                    <f:convertNumber maxFractionDigits="2" minFractionDigits="2" />
                </h:outputText>
            </p:column>
        </p:row>
        

    </p:panelGrid>
</ui:fragment>
